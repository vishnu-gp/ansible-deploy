# OpenVPN server configuration
port 1194
proto udp
dev tun

# Use the server network and subnet that fits your network setup
server 10.8.0.0 255.255.255.0

# Use the appropriate network interface for the server
;local 192.168.1.100

# Specify server certificate and key paths
ca /etc/openvpn/easy-rsa/pki/ca.crt
cert /etc/openvpn/easy-rsa/pki/issued/server.crt
key /etc/openvpn/easy-rsa/pki/private/server.key

# Configure Diffie-Hellman parameters
dh /etc/openvpn/easy-rsa/pki/dh.pem

# Enable client-to-client communication
client-to-client

# Push DNS settings to clients
push "dhcp-option DNS 8.8.8.8"
push "dhcp-option DNS 8.8.4.4"

# Allow VPN clients to access the entire server network
push "route 192.168.1.0 255.255.255.0"

# Use compression to optimize data transfer
compress lz4

# Enable keepalive to maintain client connections
keepalive 10 120

# Use tls-auth for additional security
tls-auth /etc/openvpn/easy-rsa/pki/ta.key 0

# Use tun0 as the tunnel interface
ifconfig-pool-persist /etc/openvpn/ipp.txt

# Set the maximum number of clients
max-clients 10

# Log verbosity
verb 3

# Use the proper user and group for the OpenVPN process
user nobody
group nogroup